function quote(id,value, reply_author_id, form_name, id_parent)
{
    jQuery('#title-pop-comment').html('Replying to ' + value);
    var html = jQuery('#body_'+id).html();
    html = html.replace(/<br>/g, '');

    var position = html.indexOf('</quote>');
    if(position >0)
    {
        var text = html.substr(position+8, html.length);
    }
    else
    {

        var text = jQuery('#body_'+id).text();
        console.log(text);
    }

    text = text.replace(/<br>/g, '');

    document.getElementById(form_name+"_body").value="<quote>" + text + "</quote><br/>";
    document.getElementById(form_name+"_reply").value=id_parent;
    document.getElementById(form_name+"_reply_author").value=value;
    document.getElementById(form_name+"_reply_author_id").value=reply_author_id;
    document.getElementById("tr_reply_author_"+form_name).style.display="table-row";
    document.getElementById("tr_reply_author_delete_"+form_name).style.display="table-row";
    document.location.href=document.location.toString().split("#")[0]+"#top";
}

function reply(id,value, reply_author_id, form_name)
{
    jQuery('#title-pop-comment').html('Replying to [' + value + ']');
    document.getElementById(form_name+"_body").value = '';
    document.getElementById(form_name+"_reply").value=id;
    document.getElementById(form_name+"_reply_author").value=value;
    document.getElementById(form_name+"_reply_author_id").value=reply_author_id;
    document.getElementById("tr_reply_author_"+form_name).style.display="table-row";
    document.getElementById("tr_reply_author_delete_"+form_name).style.display="table-row";
    document.location.href=document.location.toString().split("#")[0]+"#top";

}
function deleteReply(form_name){document.getElementById(form_name+"_reply").value="";document.getElementById(form_name+"_reply_author").value="";document.getElementById("tr_reply_author_"+form_name).style.display="none";document.getElementById("tr_reply_author_delete_"+form_name).style.display="none";}